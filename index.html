<body>
<style>
	.numb {
    	width: 3ch; 
        text-align: center;
    }
</style>
	

    <title>Bomb.com</title>
    <p id="stuff" style="font-size:30px; text-align:center;">Detonation in:<p>
    <p id="timer" style="font-size:50px; text-align:center; color:red"></p>
    </br></br>
    <p id="p" style="text-align:center">Please enter the 9 digit code to access the plans:</p>
    <form id="form" style="text-align:center">
        <input type="text" class="numb" id="1" maxlength="1" oninput="next(1)" />
        <input type="text" class="numb" id="2" maxlength="1" oninput="next(2)"/>
        <input type="text" class="numb" id="3" maxlength="1" oninput="next(3)"/>
        <input type="text" class="numb" id="4" maxlength="1" oninput="next(4)"/>
        <input type="text" class="numb" id="5" maxlength="1" oninput="next(5)"/>
        <input type="text" class="numb" id="6" maxlength="1" oninput="next(6)"/>
        <input type="text" class="numb" id="7" maxlength="1" oninput="next(7)"/>
        <input type="text" class="numb" id="8" maxlength="1" oninput="next(8)"/>
        <input type="text" class="numb" id="9" maxlength="1" oninput="next(9)"/>
	<button type="button" oninput="test()">Enter</button>
    </form>
    

</body>
</html>

<script>
	var context = new AudioContext()
	var o = context.createOscillator()
	var  g = context.createGain()
	o.connect(g)
	g.connect(context.destination)
	o.start(0)
    o.frequency.value = 900
    g.gain.exponentialRampToValueAtTime(0.00001, context.currentTime + 0.09)
    
	document.getElementById('1').focus();
    timer();
const timerInt = setInterval(timer, 1000);

	function timer(){
    	const d = new Date();
		let minute = 39-d.getUTCMinutes();
		let second = 59-d.getUTCSeconds();
        
        if(minute < 10){
        	minute = "0" + minute;
		document.getElementById("timer").style = "color:red; font-size:50px; text-align:center;";
        }else{
		document.getElementById("timer").style = "color:black; font-size:50px; text-align:center;";
	}
        if(second < 10){
        	second = "0" + second;
        }else{}
        
        
        if(minute < 50 && minute >= 0){
        	beep(minute);
			document.getElementById("timer").innerHTML = minute + ":" + second;
        }else{
        	document.getElementById("timer").innerHTML = "00:00";                        			clearInterval(timerInt);
                        document.getElementById('form').style.visibility = 'hidden';
                        document.getElementById('stuff').style.visibility = 'hidden';
                        document.getElementById('p').innerHTML = "You Dead Now"
        }
    }
    
    function beep(minute){
    	if(minute < 10){
        	o.frequency.value = 1000
        }else{}
    	g.gain.exponentialRampToValueAtTime(1, context.currentTime + 0.01)
        g.gain.exponentialRampToValueAtTime(0.00001, context.currentTime + 0.1)
    }
    
    function test(){
        var WRONG = "incorrect passcode: please try again"
        
        if(document.getElementById('1').value=="5"){
          if(document.getElementById('2').value=="1"){
            if(document.getElementById('3').value=="2"){
                if(document.getElementById('4').value=="1"){
                    if(document.getElementById('5').value=="0"){
                        if(document.getElementById('6').value=="1"){
                            if(document.getElementById('7').value=="4"){
                                if(document.getElementById('8').value=="0"){
                                    if(document.getElementById('9').value=="7"){
                        clearInterval(timerInt);
                        document.getElementById('form').style.visibility = 'hidden';
                        document.getElementById('timer').style.visibility = 'hidden';
                        document.getElementById('stuff').style.visibility = 'hidden';
                        document.getElementById('p').innerHTML = "Here are da plans"
        }else{alert(WRONG); clear()}
        }else{alert(WRONG); clear()}
        }else{alert(WRONG); clear()}
        }else{alert(WRONG); clear()}
        }else{alert(WRONG); clear()}
        }else{alert(WRONG); clear()}
        }else{alert(WRONG); clear()}
        }else{alert(WRONG); clear()}  
        }else{alert(WRONG); clear()}
    }
    
    function next(i){
    	if(document.getElementById(i).value.length == 1){
		var sendIt = true;
		for(j = 1; j < 10; j++){
			if (document.getElementById(j).value.length == 1){
				if(j == i && j != 9){
					document.getElementById(i+1).focus();
				}else{}
			}else{
				document.getElementById(j).focus();
				sendIt = false;
			}
		}
		if(sendIt){test()}
		else{}
        }else{}
    }
    
    function clear(){
    	for(i=1; i<10; i++){
        	document.getElementById(i).value = "";
            document.getElementById('1').focus();
        }
    }
</script>
